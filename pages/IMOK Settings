<!-- wp:shortcode -->
[redirector]
<!-- /wp:shortcode -->

<!-- wp:html -->
<link rel="stylesheet" href="../wp-admin/css/forms.css">
<form method="post" action="../wp-admin/admin-post.php">

<input type="hidden" name="action" value="settings_action_hook">
<input type="hidden" name="custom_nonce" value="123">

<input type="hidden" name="imok_timezone" id="imok_timezone">

<div>What email(s) would you like to be notified if you are not responsive?</div>
<input type="text" name="imok_contact_email_1" id="imok_contact_email_1" value="" placeholder="Email contact #1">
<br>
<input type="text" name="imok_contact_email_2" id="imok_contact_email_2" placeholder="Email contact #2">
<br>
<input type="text" name="imok_contact_email_3" id="imok_contact_email_3" placeholder="Email contact #3">

<p>

</p><div>What email message would you like to send if you are not responsive? (Edit the suggested one to suit)</div>
<textarea id="imok_email_form" name="imok_email_form" rows="4" cols="40">Vince has not reported in to the IMOK website by the chosen Alert time.
You may want to check on them.
Their phone number is xxx-xxx-xxxx
Their email address is xxxxxx@gmail.com</textarea>

<p>

</p><div>On what date &amp; time should your first alert be sent if you are not responsive?</div>
<label for="imok_alert_date">Date:</label> <input type="date" name="imok_alert_date" id="imok_alert_date">
<label for="imok_alert_time">Time:</label> <input type="time" id="imok_alert_time" name="imok_alert_time">

<p>

<label for="timeout">How many days after you push the IMOK button would you like to set your next alert date?</label>
<select name="imok_alert_interval" id="imok_alert_interval" value="1">
  <option value=".5">.5</option>
  <option value="1" selected="">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
</select>

</p><p>

<label for="timeout">A reminder email will be sent to your email address before the alert is sent. How many hours before the alert should this email be sent?</label>
<select name="imok_pre_warn_time" id="imok_pre_warn_time" value="1">
  <option value=".5">.5</option>
  <option value="1" selected="">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
</select>

</p>

<p>
<input type="submit" name="submit" id="submit" value="Save Settings">
</p>
<p>
<a href="https://github.com/vpelss/imok_wp/blob/master/imok.md#about" target="_blank" rel="noopener"><input type="button" value="Help / About"></a>
</p>
</form>

<script>
const d = new Date();
let timezone= d.getTimezoneOffset();
document.getElementById('imok_timezone').value = timezone;
</script>

<script>document.getElementById('imok_contact_email_1').value = '[imok_contact_email_1]';</script>
<script>document.getElementById('imok_contact_email_2').value = '[imok_contact_email_2]';</script>
<script>document.getElementById('imok_contact_email_3').value = '[imok_contact_email_3]';</script>
<script>document.getElementById('imok_email_form').innerHTML = `[imok_email_form]`;</script>
<script>document.getElementById('imok_alert_date').value = '[imok_alert_date]';</script>
<script>document.getElementById('imok_alert_time').value = "[imok_alert_time]";</script>
<script>document.getElementById("imok_alert_interval").value = "[imok_alert_interval]";</script>
<script>document.getElementById("imok_pre_warn_time").value = "[imok_pre_warn_time]";</script>
<!-- /wp:html -->
